---
description: Agent 项目通用约定
alwaysApply: true
---

# Agent 项目约定

## 项目概述

- **项目类型**：纯 Agent 项目，不编写代码
- **执行方式**：通过 MCP (Model Context Protocol) 工具执行其他软件
- **主要场景**：浏览器自动化、系统操作、工具调用等

## 核心原则

1. **不生成代码**：本项目不涉及编写、修改或执行代码文件
2. **工具优先**：优先使用 MCP 工具完成任务，而不是生成脚本或代码
3. **任务导向**：通过自然语言指令，让 AI Agent 调用 MCP 工具完成具体任务

## 与 AI 协作时的偏好

- **语言**：默认使用中文回复和说明
- **执行方式**：直接调用 MCP 工具，而非生成代码
- **确认机制**：对于重要操作（如提交表单、删除数据），先说明再执行
- **结果反馈**：执行后提供清晰的结果说明，必要时提供截图或日志
- **登录场景**：遇到需要登录的场景时，立即告知用户并停止执行，等待明确指示
- **故障恢复**：遇到问题时可以关闭浏览器页面或建议重启 Cursor；需要用户帮助时立即暂停并通知

## 文件结构约定（重要）

### `docs/`（给人看的）
- `docs/` 只放**面向人类阅读**的文档（例如命令手册、对外说明）。
- 不要把“给 AI 的规则/提示”放进 `docs/`；这类内容应放在 `.cursor/rules/`。
- 常用一句话命令手册位置：`docs/COMMANDS.md`（无 frontmatter）。

### `.cursor/rules/`（给 AI 的规则）
- `.cursor/rules/*.mdc` 为 Cursor Rules，允许 frontmatter（`description / alwaysApply / globs`）。
- 核心规范文件可 `alwaysApply: true`；操作类文档建议 `alwaysApply: false` 按需引用。
- 操作最佳实践放在：`.cursor/rules/operations/`。

### 文档修改约定（重要）
- **当用户提到添加或修改给人看的文档时**：只修改 `docs/` 目录下的文件，**不需要且不应该修改** `.cursor/rules/` 里的任何文件。
- **区分文档类型**：
  - `docs/` = 给人看的文档（面向人类阅读）
  - `.cursor/rules/` = 给 AI 的规则（指导 AI 行为）
- **修改原则**：用户明确提到"给人看的文档"时，严格限制在 `docs/` 目录内操作。

### `results/`（导出成果）
- 导出成果必须放入 `results/<name>-operations/` **子文件夹**，不要散落在 `results/` 根目录。
- 子文件夹内至少包含：`README.md` 与 `SUMMARY.md`，并与已有目录结构保持一致（可参考 `results/bilibili-operations/`）。

## 新对话的 Rule 提示机制（Operation 启动时）

当一个**全新的会话/话题**开始，并且用户提出了需要执行某个 operation 的请求时：

1. **仅看文件名判断**：只根据 `.cursor/rules/`（含子目录）里的规则文件名来判断是否存在“相似主题”的规则（不读取内容、不做全仓搜索）。
2. **未 @ 时询问一次**：如果存在相似规则文件，但用户没有用 `@` 引用该文件，我必须**询问用户一次**是否要 `@` 这个规则文件以作为本次 operation 的指导。
3. **只问一次**：无论用户选择“要/不要”，后续都不重复询问；直接按用户选择继续执行。

示例提问（只需一次）：
`检测到可能相关的规则文件：@.cursor/rules/operations/<xxx>.mdc 。这次要不要引用它？`
